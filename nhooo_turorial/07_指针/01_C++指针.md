# C++指针
> 指针是C++的强大特性，它将C++与其他编程语言(如Java和Python)区分开来。
> 
> 指针在C ++程序中用于访问内存和操纵地址。

## 1. C++地址
变量存储的值实际上存储在指定的位置中。为了知道数据存储在哪里，C++有一个`&`操作符。操作符`& `(reference)给出变量占用的地址。

比如：var是变量，则`&var`给出该变量的地址。

栗子1_地址：
```cpp
#include <iostream>
using namespace std;

int main() {
    int var1 = 3;
    int var2 = 24;
    int var3 = 17;
    cout << &var1 << endl;
    cout << &var2 << endl;
    cout << &var3 << endl;
}
```

## 2. 指针变量
C++使用户能够直接操作计算机内存中的数据。可以根据需要，分配和取消分配内存中的任何空间。这是使用Pointer（指针）变量完成的。

**指针变量是指向内存中另一个变量所指向的特定地址的变量**。

### 2.1 声明指针
注意：c++指针**声明**中使用的`*`符号不是解引用指针。它只是一个创建指针的类似符号。

```cpp
int *p;
//   或
int* p;
```
+ 上面的语句定义了一个指针变量p。它保存了内存地址
+ 星号`*`是**解引用运算符**，变量加上解引用，即可得到变量指向地址的内容。
+ 在这里，指针p是指向int的指针，即它指向存储器地址中的整数值。


### 2.2 取址运算符`&` 和 解引用运算符`*`
+ 对变量使用取址运算符`＆`得到变量的内存地址。
+ 要获取存储在内存地址中的值，我们使用解引用运算符`*`

栗子2_指针工作：
```cpp
// 指针是如何工作的

#include <iostream>
using namespace std;

int main() {
    int *pc, c;
    c = 5;

    cout << "c 的地址是: " << &c << endl;
    cout << "c 的值是: " << c << endl;

    pc = &c;  // 这个是地址对上的正确写法
    cout << "地址指针pc指向的的地址是: " << pc << endl;
    cout << "地址指针pc持有的值是:  " << *pc << endl;

    c = 11;
    cout << "地址指针pc指向的的地址是: " << pc << endl;
    cout << "地址指针pc持有的值是: " << *pc << endl;

    *pc = 2;
    cout << "c 的地址是: " << &c << endl;
    cout << "c 的值是: " << c << endl;

    return 0;
}
```

## 3. 使用指针时常见错误
当需要pc指向c的地址时：
```cpp
int c, *pc;
pc=c;  /* 错误！  pc是地址，而c不是地址。 */
*pc=&c; /*错误！  *pc是地址指向的值，而&c是地址。*/
pc=&c; /* 正确！  pc是一个地址，&c也是一个地址。 */
*pc=c; /* 正确？？  *pc是地址指向的值，而c也是一个值。但是没有把地址关联起来啊 */
```